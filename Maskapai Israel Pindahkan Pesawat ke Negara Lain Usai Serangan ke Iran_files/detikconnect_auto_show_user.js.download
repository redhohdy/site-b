var gCallbackFunctionAutoUserShow,gTokenMe,clientId,attempt=1;function detikConnectAutoUserShow(e,t){clientId=e,gCallbackFunctionAutoUserShow=t,connectDomain="connect."+window.location.hostname.split(".").slice(-2).join("."),connectTokenUrl=(testOtherConnectDomain=["connect.detik.com","connect.insertlive.com","connect.cnnindonesia.com","connect.cnbcindonesia.com","connect.haibunda.com","connect.beautynesia.id","connect.cxomedia.id","connect.buzznesia.id","connect.detikshop.com","connect.transentertainment.com","connect.berbuatbaik.id","connect.ziswafctarsa.id"]).indexOf(connectDomain)>-1?"https://"+connectDomain+"/token/me.html?clientId="+e:"https://connect.detik.com/token/me.html?clientId="+e,(detikConnectIframe=document.createElement("iframe")).setAttribute("src",connectTokenUrl),detikConnectIframe.setAttribute("id","detikconnectiframe"),detikConnectIframe.style.width="0px",detikConnectIframe.style.height="0px",detikConnectIframe.style.display="none",detikConnectIframe.style.border="none",document.body.appendChild(detikConnectIframe)}function detikConnectAutoLogin(){connectRefreshTokenUrl="https://connect.detik.com/token/me.html?autoLogin=1&clientId="+clientId,detikConnectIframe.setAttribute("src",connectRefreshTokenUrl)}function onMessageConnectTokenMeHtml(e){switch((data=e.data).event){case"com.detik.connect.client.autologin.complete":case"com.detik.connect.token.me.html":var t,n,o;if(1===attempt&&!1===data.is_login){attempt-=1,detikConnectAutoLogin();return}(gTokenMe=data).is_login&&(t=gTokenMe,n=!("undefined"==typeof gCookieDomain||null==gCookieDomain),(o=new Date).setTime(o.getTime()+2592e6),document.cookie=n?'ngtmdc="'+t.ngtmdc+'"; path=/; SameSite=None; Secure; Domain='+gCookieDomain+"; Expires="+o.toGMTString()+";":'ngtmdc="'+t.ngtmdc+'"; path=/; SameSite=None; Secure; Expires='+o.toGMTString()+";"),gCallbackFunctionAutoUserShow(gTokenMe)}}window.addEventListener?window.addEventListener("message",onMessageConnectTokenMeHtml,!1):window.attachEvent&&window.attachEvent("onmessage",onMessageConnectTokenMeHtml,!1);